//=============================================================
//                                                             
//  ##  ###    ###  #####    #####   #####    ######   ####  
//  ##  ## #  # ##  ##  ##  ##   ##  ##  ##     ##    ##     
//  ##  ##  ##  ##  #####   ##   ##  #####      ##     ###   
//  ##  ##      ##  ##      ##   ##  ##  ##     ##       ##  
//  ##  ##      ##  ##       #####   ##   ##    ##    ####   
//                                                             
//=============================================================
@import "_variables.scss";
@import "_breakpoints.scss";
@import "_mixins.scss";
@import "_fonts.scss";
@import "knacss/knacss.scss";
//@import "_featherlight.scss";

$orange: #ffad30;
.orange { color:$orange; }
$purple: #9d2a84;
.purple { color:$purple; }

$masthead_border_color:rgba(desaturate(lighten($purple, 25%), 25%), .75);

$padding:2.5rem;

::-moz-selection { background: rgba($orange, .625); }
::selection { background: rgba($orange, .625); }

//====================================================================================================
//                                                                                                    
//  #####   ##        ###     ####  #####  ##   ##   #####   ##      ####    #####  #####     ####  
//  ##  ##  ##       ## ##   ##     ##     ##   ##  ##   ##  ##      ##  ##  ##     ##  ##   ##     
//  #####   ##      ##   ##  ##     #####  #######  ##   ##  ##      ##  ##  #####  #####     ###   
//  ##      ##      #######  ##     ##     ##   ##  ##   ##  ##      ##  ##  ##     ##  ##      ##  
//  ##      ######  ##   ##   ####  #####  ##   ##   #####   ######  ####    #####  ##   ##  ####   
//                                                                                                    
//====================================================================================================
.list-inline, %list-inline {
	list-style: none;
	margin:0;
	padding:0;

	li {
		display: inline-block;
	}
}

%padding {
	padding-left:$padding;
	padding-right:$padding;
}

%trans_in { transition:.325s all ease-in-out; }
%trans_in_delayed { transition:.325s all ease-in-out .125s; }
%trans_out { transition:.175s all ease-out; }
%pseudo { content:""; position:absolute; display:block; }

.row {
	@extend .grid;
}


//================================================================
//                                                                
//   ####   #####   ###    ###  ###    ###   #####   ##     ##  
//  ##     ##   ##  ## #  # ##  ## #  # ##  ##   ##  ####   ##  
//  ##     ##   ##  ##  ##  ##  ##  ##  ##  ##   ##  ##  ## ##  
//  ##     ##   ##  ##      ##  ##      ##  ##   ##  ##    ###  
//   ####   #####   ##      ##  ##      ##   #####   ##     ##  
//                                                                
//================================================================
body {
	$fs: 15px;
	font-family: $font;
	font-size:$fs;
	//margin-top: 9.75rem;
	color:$text;
	overflow-x: hidden;
	overflow-y:auto;

	&#tinymce {
		margin: 1rem;
	}

	@include resp(small) {
		//font-size: $fs*1.25;
	}
	
	@include resp(medium-up) {
		font-size: $fs*1.1;
	}

	@include resp(large-up) {
		font-size: $fs*1.15;
	}

	@include resp(extra-large-up) {
		font-size: $fs*1.2;
	}
}

*:target {
	//padding-top: 12.5rem; 
	//margin-top: -12.5rem; 
}

.container {
	margin: 0 auto;
	max-width:1420px;
	width:90%;

	@include resp(medium-up) {
		width:80%;
	}
}

h1, h2, h3, h4, h5, h6 {
	font-family:$font2;
	font-weight: 400;
	margin:1em 0 .5em;
	letter-spacing: -0.01em;
	line-height: 1.2;
	position: relative;

	strong {
		color:$orange;
		font-weight: 400;
	}
}

h1, h2, h3, h4 {
	&:after {
		display: inline-block;
		content:".";
		color:$orange;
	}
}

a {
	@extend %trans_in;
	text-decoration: none;

	&:hover {
		@extend %trans_out;
	}
}

.button {
	border-radius:10rem;
	background:$orange;
	color:#fff;
	font-size:1.4rem;
	display: inline-block;
	padding:.75em 4em;
	border:2px solid $orange;
	overflow: hidden;
	text-align: center;

	&:hover, &.transparent {
		background:#fff;
		color:$orange;
	}

	&.transparent {
		&:hover {
			background:$orange;
			color:#fff;
		}
	}

	&.blue {
		background:$blue;
		border-color:$blue;

		&:hover {
			background: #fff;
			color:$blue;
		}
	}

	&.white {
		background:#fff;
		color:$orange;
		border-color:#fff;

		&:hover {
			background:$orange;
			border-color:$orange;
			color:#fff;
		}
	}
}

.link {
	font-weight: bold;
	color:$orange;
	position: relative;

	span {
		position: relative;
		z-index:10;
	}

	&:before {
		z-index:1;
		@extend %pseudo;
		position: absolute;
		bottom:-1px;
		top:100%;
		left:0;
		right:0;
		background:$orange;
		border:1px solid transparent;
		@extend %trans_in;
	}

	&:hover {
		color:#fff;

		&:before {
			top:-.325em;
			left:-.5em;
			right:-.5em;
			bottom:-.325em;
			//background: rgba($orange, .25);
			background: transparent;
			border:1px solid rgba($orange, .5);
			border-radius:.25rem;
			@extend %trans_in;
		}
	}
}

ul.bullets {
	list-style: none;
	margin-left:0;
	padding-left:0;

	li {
		position: relative;
		padding-left:2.5em;
		margin-left:0;

		&:before {
			@extend %pseudo;
			$w:.5em;
			width:$w;
			height:$w;
			border-radius:100%;
			background:$orange;
			position: absolute;
			left:1.25em;
			top:$w;
		}
	}
}


//=============================================================================
//                                                                             
//   ####  ##   ##  #####   ##   ##  #####    ###    ####    #####  #####    
//  ##     ##   ##  ##  ##  ##   ##  ##      ## ##   ##  ##  ##     ##  ##   
//   ###   ##   ##  #####   #######  #####  ##   ##  ##  ##  #####  #####    
//     ##  ##   ##  ##  ##  ##   ##  ##     #######  ##  ##  ##     ##  ##   
//  ####    #####   #####   ##   ##  #####  ##   ##  ####    #####  ##   ##  
//                                                                             
//=============================================================================
#utility-bar {
	$bg-color: #491854;
	$txt-color: #c7a5cd;

	background: $bg-color;
	@extend %padding;
	padding-top:.625rem;
	padding-bottom:.75rem;
	@extend .clearfix;

	@include resp(small) {
		padding:0;
		height:1rem;
	}

	&, a { color: $txt-color; }

	nav {
		display: inline-block;

		@include resp(small) {
			display: none;
		}

		ul {
			@extend %list-inline;

			li {
				font-size: .75em;
				position: relative;
				display: inline-block;
				padding-left:1em;
				margin-left:1em;
				line-height: 1;

				&:before {
					$w: 2px;
					@extend %pseudo;
					top:0;
					bottom:0;
					left:-$w/2;
					width:$w;
					position: absolute;
					background-color: rgba($txt-color, .6);
				}

				&:first-child {
					padding-left: 0;
					margin-left: 0;
					
					&:before {
						display: none;
					}
				}

				a {
					&:hover {
						color:#fff;
					}

					.icon {
						color:#fff;
						margin-right: .25em;
					}
				}
			}
		}

		&.utility-navigation {
			float:left;
			width:50%;
		}

		&.secondary-navigation {
			float:right;
			width:50%;
			text-align: right;

			ul {
				li {

				}
			}
		}
	}
}


//=====================================================
//                                                     
//  ##   ##  #####    ###    ####    #####  #####    
//  ##   ##  ##      ## ##   ##  ##  ##     ##  ##   
//  #######  #####  ##   ##  ##  ##  #####  #####    
//  ##   ##  ##     #######  ##  ##  ##     ##  ##   
//  ##   ##  #####  ##   ##  ####    #####  ##   ##  
//                                                     
//=====================================================
#intro {
	color:#fff;
	background-position: center center;
	background-size: cover;
}

#masthead {
	@extend %padding;
	padding-top:0;
	position: relative;
	$w: 15vw;

	&:after {
		@extend %pseudo;
		$h: 2px;
		height:$h;
		position: absolute;
		border-radius:100%;
		right:0;
		left:$w*1.25;
		bottom:-$h;
		z-index:5;
		background: $masthead_border_color;
	}
	
	a.logo {
		width:$w;
		display: block;
		float:left;
		position: relative;
		top: 1.5vw;
	}

	div.container-fluid {
		position: relative;
		@extend .clearfix;
		//height:7rem;
	}

	nav.primary-navigation {
		width: calc(100% - 17.5vw);
		display: inline-block;
		float:right;

		ul.menu {
			@extend %list-inline;
			width:100%;
			height:100%;
			display: block;
			text-align: right;
			//margin-top: .1em;

			> li {
				position: relative;
				margin:0;
				vertical-align: bottom;

				&:after {
					@extend %pseudo;
					@extend %trans_out;
					position: absolute;
					left:50%;
					right:50%;
					bottom:-2px;
					height:0;
					opacity:0;
					z-index:10;
					background:$orange;
				}

				a {
					margin:0;
					color:#fff;
					display: block;
					padding:1.5em 1.5em 1.25em 1.5em;
					font-size: .9em;
					font-weight: 400;
					overflow: hidden;
					position: relative;

					&:before {
						@extend %pseudo;
						@extend %trans_out;
						position: absolute;
						left:50%;
						right:50%;
						bottom:0;
						top:0;
						opacity:0;
						background:linear-gradient(180deg, rgba(#fff, .0), rgba(#fff, .2));
					}

					i.icon {
						color:#fff;
						opacity:.75;
						margin-right: .5em;
						transform:scale(1.3);
					}
				}

				&:hover, &.active {
					> a {
						&:before {
							left:0;
							right:0;
							opacity:1;
							@extend %trans_in;
						}

						i.icon {
							opacity:1;
						}
					}

					&:after {
						left:0;
						right:0;
						height:3px;
						@extend %trans_in_delayed;
						opacity:1;
					}
				}

				&.active {
					> a {
						font-weight: bold;
						pointer-events: none;
					}
				}

				&:hover, &.open-sub-menu {
					ul.sub-menu {
						//display: block;
						z-index:15;
						opacity:1;
						transform:translateX(0);
						@extend %trans_out;
					}
				}

				ul.sub-menu {
					padding-left: 0;
					position: absolute;
					left:0;
					top:100%;
					//display: none;
					opacity:0;
					transform:translateX(2rem);
					@extend %trans_in;
					text-align: left;
					background: #fff;
					z-index:-1;
					margin-top: 2px;
					padding:1.5rem 0;
					border-radius:0 0 .5rem .5rem;
					box-shadow: 2rem 2rem 5rem -1rem rgba(15, 0, 15, .375);

					&.loaded {

					}

					li {
						display: block;
						width:15em;

						a {
							display: block;
							color:$text;
							font-size: .75em;
							padding:.325em 1em .325em 1.75em;

							&:hover {
								opacity:.8;
								padding-left: 1.95em;
							}
						}

						&.active {
							> a {
								font-weight: bold;
								pointer-events: none;
							}
						}
					}
				}

				&.callout {
					$p:.5em;
					
					&:before {
						@extend %pseudo;
						@extend %trans_out;
						position: absolute;
						border:2px solid $orange;
						border-radius:2em;
						top:$p*1.75;
						bottom:$p*1.25;
						left:0;
						right:0;
					}

					a {
						color:$orange;
						text-transform: uppercase;
						font-weight: bold;
					}

					&:hover {
						&:before {
							background: $orange;
							@extend %trans_in;
						}
						
						a {
							color:#fff;

							&:before {
								display: none;
							}
						}

						&:after {
							display: none;
						}
					}
				}
			}
		}
	}
}


//=====================================================
//                                                     
//  #####   #####    #####   ######  #####  #####    
//  ##     ##   ##  ##   ##    ##    ##     ##  ##   
//  #####  ##   ##  ##   ##    ##    #####  #####    
//  ##     ##   ##  ##   ##    ##    ##     ##  ##   
//  ##      #####    #####     ##    #####  ##   ##  
//                                                     
//=====================================================
#footer {

}


//=================================================================================
//                                                                                 
//  ##   ##   #####   ###    ###  #####        ##   ##  #####  #####     #####   
//  ##   ##  ##   ##  ## #  # ##  ##           ##   ##  ##     ##  ##   ##   ##  
//  #######  ##   ##  ##  ##  ##  #####        #######  #####  #####    ##   ##  
//  ##   ##  ##   ##  ##      ##  ##           ##   ##  ##     ##  ##   ##   ##  
//  ##   ##   #####   ##      ##  #####        ##   ##  #####  ##   ##   #####   
//                                                                                 
//=================================================================================
#hero {
	div.main-text {
		$w: 10vw;
		padding-left:10%;
		padding-top:$w;
		padding-bottom:$w;
		width:60%;

		@include resp(medium) {
			padding-left: 5%;
			width:90%;
		}

		h1 {
			font-size: 2.8em;
		}

		p {
			font-size: 1.3em;
		}

		div.buttons {
			color:#fff;
			margin-top: 3rem;

			a {
				&.button {

				}

				&.link {
					position: relative;
					top: -1em;
					
					&:hover {
						color:#fff;
						text-decoration: none;
					}
				}
			}

			span.or {
				position: relative;
				top: -1em;
				padding:0 1.5em;
			}
		}
	}

	figure.illustration {
		position: absolute;
		display: none;
	}

	aside.promo-text {
		text-align: center;
		border-top:2px solid $masthead_border_color;
		padding:.5rem 0 1.5rem;
		position: relative;

		div.mask {
			$curve:5rem;
			position: absolute;
			top:0;
			bottom:0;
			width:100%;
			background:#fff;

			&:after {
				@extend %pseudo;
				position: absolute;
				top:0;
				bottom:0;
				width:$curve;
				background-size: 100% 100%;
				background-repeat: no-repeat;
				background-color: transparent;
			}

			&.mask-left {
				left:-100%;
				margin-left: -$curve;

				&:after {
					right:-$curve;
					background-image:url('../images/curve-mask-left.svg');
				}
			}

			&.mask-right {
				right:-100%;
				margin-right: -$curve;

				&:after {
					left:-$curve;
					background-image:url('../images/curve-mask-right.svg');
				}
			}
		}

		p {
			font-size: .75em;
		}

		a {
			color:$orange;
			display: inline-block;
			margin-left: 1em;
			@extend .link;
		}
	}
}


//==============================================================================
//                                                                              
//  #####     ###     ####    #####        ######  ##  ######  ##      #####  
//  ##  ##   ## ##   ##       ##             ##    ##    ##    ##      ##     
//  #####   ##   ##  ##  ###  #####          ##    ##    ##    ##      #####  
//  ##      #######  ##   ##  ##             ##    ##    ##    ##      ##     
//  ##      ##   ##   ####    #####          ##    ##    ##    ######  #####  
//                                                                              
//==============================================================================
#page-title {
	div.container {
		position: relative;
		padding-top:5rem;
		padding-bottom:13.5rem;
	}

	nav.breadcrumbs {
		font-size: .625em;
		margin-bottom: .5rem;
	}

	h1 {
		font-size: 2em;
		margin:0;
	}

	p.subtitle {
		max-width: 50%;
	}
	
	div.mask {
		$curve:5rem;
		position: absolute;
		height:$curve;
		background: #fff;
		left:0;
		right:0;
		bottom:0;

		&:after, &:before {
			@extend %pseudo;
			width:$curve;
			position: absolute;
			top:0;
			bottom:0;
			background-size: 100% 100%;
			background-repeat: no-repeat;
		}

		&:before {
			left:-$curve;
			background-image:url('../images/curve-mask-right.svg');
		}

		&:after {
			right:-$curve;
			background-image:url('../images/curve-mask-left.svg');
		}
	}
}


//======================================================================================================================
//                                                                                                                      
//   ####   #####   ##     ##  ######  #####  ##     ##  ######        #####   ##       #####    ####  ##  ##   ####  
//  ##     ##   ##  ####   ##    ##    ##     ####   ##    ##          ##  ##  ##      ##   ##  ##     ## ##   ##     
//  ##     ##   ##  ##  ## ##    ##    #####  ##  ## ##    ##          #####   ##      ##   ##  ##     ####     ###   
//  ##     ##   ##  ##    ###    ##    ##     ##    ###    ##          ##  ##  ##      ##   ##  ##     ## ##      ##  
//   ####   #####   ##     ##    ##    #####  ##     ##    ##          #####   ######   #####    ####  ##  ##  ####   
//                                                                                                                      
//======================================================================================================================
section.content-block {
	$p:7.5rem;
	padding-top:$p;
	padding-bottom:$p;
	
	&.container {
		//border-bottom: 1px dotted $border;
	}

	/**
	 * Title and subtitle
	 */
	h2 {
		font-size: 4rem;
	}

	h3 {
		font-size: 2rem;
		font-weight: normal;
		font-family: $font;
		font-weight: 500;

		&:after {
			display: none;
		}
	}

	header.section-title {
		text-align: center;
	}

	/**
	 * Simple content
	 */
	&.simple-content {
		div.content-width {
			margin-left:auto;
			margin-right:auto;

			&.size-small {
				width:25%;
			}

			&.size-normal {
				width:40%;
			}

			&.size-medium {
				width:70%;
			}

			&.size-large {
				width:100%;
			}
		}
	}

	/**
	 * Text and cards
	 */
	&.text-cards {
		div.row {
			//@extend .autogrid;
			//@extend .has-gutter-xl;

			div.text {
				@extend .one-half;

				&.first {
					@include resp(medium-up) {
						padding-right:5rem;
					}
				}

				&.second {
					@include resp(medium-up) {
						padding-left:5rem;
					}
				}
			}

			div.cards {
				@extend .one-half;
				$m:2.5;
				display: flex;

				@include resp(medium) {
					display: block;
					width:100%;
				}

				article.card {
					//float:left;
					margin:0 $m*1%;
					padding:1rem 2rem 3rem;
					box-shadow: 0rem 1rem 5rem -1rem rgba(0,0,20, .25), 0rem 1rem 2.5rem -0.75rem rgba(10,0,20, .25);
					text-align: center;
					border-radius:.25rem;
					-webkit-hyphens: auto;
					-moz-hyphens: auto;
					-ms-hyphens: auto;
					hyphens: auto;
					display: flex;
					flex-direction: column;

					@include resp(medium) {
						display: block;
						width:100% !important;
					}

					figure.icon {
						width:35%;
						margin-left: auto;
						margin-right: auto;
						margin-bottom: 2rem;

						img {
							width:100%;
							max-width:1000%;
						}
					}

					div.card-content {
						margin-bottom: 1rem;

						h4 {
							font-size: 1.6rem;
							margin-bottom: auto;
						}

						p {
							font-size: 1.5rem;
							line-height: 1.2;
						}
					}

					a.link {
						font-size: 1.375rem;
						display: inline-block;
						align-self: self-start;
    					margin-top: auto;
    					margin-left: auto;
    					margin-right: auto;

						&:hover {
							color:$orange;
						}
					}
				}

				&.has-4-cards {
					article.card {
						width:((100/4)-($m*2))*1%;
					}
				}

				&.has-3-cards {
					article.card {
						width:((100/3)-($m*2))*1%;
					}
				}

				&.has-2-cards {
					article.card {
						width:((100/2)-($m*2))*1%;
					}
				}
			}
		}
	}

	/**
	 * Featured pages
	 */
	&.featured-pages {
		div.pages {
			margin-left:-1px;
			margin-right:-1px;
			margin-top: 4rem;
			@extend .clearfix;

			a.page {
				position: relative;
				display: block;
				float:left;
				color:#fff;
				
				div.page-content {
					position: relative;
					height:0;
					width: calc(100% - 2px);
					margin-left: 1px;
					overflow: hidden;
					padding-bottom: 25%;
					background: $purple;
				}

				div.background-image {
					position: absolute;
					top:0;
					bottom:0;
					left:0;
					right:0;
					background-color: $purple;
					background-size: cover;
					background-position: center center;
					z-index:1;
					@extend %trans_out;
				}

				header {
					position: relative;
					z-index:10;
					margin:2.5vw 2.5vw 0 2.5vw;

					h4 {
						font-size: 3rem;
						margin-top: 0;
					}

					p {
						@extend %trans_out;
						opacity:.75;
						font-size: 1.625rem;
					}
				}

				footer {
					position: absolute;
					z-index:10;
					left:2.5vw;
					bottom:2.5vw;
					font-size: 1.625rem;
					@extend %trans_out;
					opacity:0;
					transform: translateY(4em);
				}

				&:hover {
					div.background-image {
						$o:-1.5rem;
						@extend %trans_in;
						left:$o;
						right:$o;
						bottom:$o;
						top:$o;
						transform:rotate(-1deg);
						opacity:.5;
					}

					header {
						p {
							opacity:0;
							@extend %trans_in;
						}
					}

					footer {
						opacity:1;
						transform: translateY(0);
						@extend %trans_in_delayed;
					}
				}
			}	

			&.has-2-pages {
				a.page {
					width: 50%;
					
					div.page-content {
						padding-bottom: 40%;
					}
				}
			}

			&.has-3-pages {
				a.page {
					width: 33.333%;
					
					div.page-content {
						padding-bottom: 60%;
					}
				}
			}

			&.has-4-pages {
				a.page {
					width: 25%;
					
					div.page-content {
						padding-bottom: 80%;
					}
				}
			}

			&.has-5-pages {
				a.page {
					width: 20%;
					
					div.page-content {
						padding-bottom: 100%;
					}
				}
			}

			&.has-6-pages {
				a.page {
					width: 16.66%;
					
					div.page-content {
						padding-bottom: 100%;
					}

					header {
						margin:1.5vw 1.5vw 0 1.5vw;

						h4 {
							font-size: 2.5rem;
						}

						p {
							opacity:.75;
							font-size: 1.575rem;
						}
					}

					footer {
						left:1.5vw;
						bottom:1.5vw;
						font-size: 1.575rem;
					}
				}
			}
		}
	}

	/**
	 * Pricing table
	 */
	&.pricing-table {
		
	}

	/**
	 * Image and text (could be slider)
	 */
	&.image-and-text {
		
	}
}